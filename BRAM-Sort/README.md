# BRAM-Sort

## Introduction:
This design performs sorting on a variable-size array of 32-bit (unsigned) integers stored in a block-RAM. The BRAM is implemented using an IP-Core and it is loaded with an array which is received from the computer. The sorted array is written back.

## Dependencies
* UART transceiver core module: uart_transceiver.v (Sebastien Bourdeauducq)
* RS-232 driver module: RS232_UART.c & RS232_UART.h (Teunis van Beelen)
* True Dual-Port BRAM IP-Core: VLNV: xilinx.com:ip:blk_mem_gen:8.4 (Xilinx)

## Implementation Details
* All the numbers are in a 32-bit unsigned integer format and are represented as std_logic_vectors (except for the internal variables) within the FSMs.

### Input
* The first input to the programme is the size of the array (*n*).
* This is followed by *n* values corresponding to the elements of the array.

### Output
* The output consists of a sequence of *n* values representing the sorted array.

### Modular Organization
* The Int32CommUtil (Communications and Utility for 32-bit integer processing) module is the primary FSM which drives the functionality of the programme and it instantiates the modules of the other entities, viz. UART, BRAM and Int32BRAMSort.
* The UART module interfaces the UART Transceiver Module with the Driver module and debounces the signal that may interfere with the transmission.
* The BRAM module is generated by the Synthesis Environment and provides the functionality of a True Dual-port Block RAM.
* The Int32BRAMSort module is the process block which implements the **selection sort algorithm**.
* The Int32CommUtil module instantiates the BRAM unit. Port-A of the BRAM unit is interfaced with the Int32CommUtil module while the Port-B is interfaced with the process block (Int32BRAMSort module).
* In the default state, the Int32CommUtil driver activates the UART and BRAM modules, and waits for input. It reads the input and stores the array into the BRAM.
* Once the array has been recorded, it activates the process block (Int32BRAMSort module) and suspends all the other processes while it waits fot the process block to yield. The boundary of the array is designated by providing the starting and the ending addresses to the process block.
* The Int32BRAMSort module implements the selection sort algorithm on the array. The sorting is done in-place and the sorted array can be directly retrieved from the BRAM. The process block triggers a *done* signal to indicate to the driver module that the process has been completed.
* In the final state, the driver module reads the array from the BRAM and serially tranmits it over the UART transceiver to the computer.
* The programme running on the computer randomly generates an array of a given size and feeds it to the FPGA board over the UART transceiver. It also verifies that the array obtained from the FPGA board is in a sorted order.
